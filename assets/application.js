// Generated by CoffeeScript 1.7.1
(function() {
  window.conn = new WebSocket("ws://localhost:1337/ws");

  conn.onclose = function(evt) {
    return console.log("Connection Closed");
  };

  conn.onmessage = function(evt) {
    console.log(evt.data);
    document.querySelector(".tritium-time").innerHTML = Date.now() - window.currTime;
    return document.querySelector(".tritium-results").innerHTML = evt.data;
  };

  document.querySelector(".transform").addEventListener("click", function() {
    var data, html, javascript, tritium;
    tritium = document.querySelector(".tritium").value;
    html = document.querySelector(".html").value;
    javascript = document.querySelector(".javascript").value;
    $(".javascript-results, .tritium-results").each(function() {
      return this.innerHTML = '';
    });
    data = {
      tritium: tritium,
      html: html
    };
    document.querySelector(".results").scrollIntoView();
    console.log(data);
    window.currTime = Date.now();
    conn.send(JSON.stringify(data));
    return document.querySelector(".javascript-results").innerHTML = eval("(function(){" + javascript + "})();");
  });

}).call(this);
